<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Магазин</title>
<style>
body {
    margin: 0;
    background: #202020;
    font-family: Arial, sans-serif;
    color: white;
}

/* === БЛИК ПО ОБВОДКЕ === */
.shiny-border {
    position: relative;
    overflow: hidden;
}

.shiny-border::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 15px;
    background: linear-gradient(
        45deg,
        rgba(255, 255, 255, 0.03) 0%,
        rgba(255, 255, 255, 0.3) 50%,
        rgba(255, 255, 255, 0.03) 100%
    );
    -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
            mask-composite: exclude;
    animation: shine 2.8s linear infinite;
}

@keyframes shine {
    0% { transform: translate(-150%, -150%) rotate(45deg); }
    100% { transform: translate(150%, 150%) rotate(45deg); }
}

/* === LOADER === */
#loader, #payLoader {
    position: fixed;
    inset: 0;
    background: #202020;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 26px;
    z-index: 1000;
}

#content {
    display: none;
    padding: 15px;
}

/* === ITEMS === */
.row {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.item {
    background: #333;
    border-radius: 15px;
    width: 100%;
    height: 450px;
    overflow: hidden;
    position: relative;
}

.item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.buy-btn {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 12px;
    border: none;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(4px);
    color: white;
    font-weight: bold;
    cursor: pointer;
    border-radius: 12px;
    width: 80%;
    font-size: 18px;
}

/* === PAYMENT SCREEN === */
#paymentScreen {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    display: none;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

#paymentBox {
    background: #303030;
    padding: 20px;
    border-radius: 15px;
    width: 90%;
    max-width: 350px;
}

.pay-item {
    border-radius: 15px;
    width: 100%;
    height: 250px;
    overflow: hidden;
    margin-bottom: 15px;
}

.pay-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

#backMenu, #supportBtn {
    margin-top: 10px;
    padding: 12px;
    width: 100%;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    cursor: pointer;
    font-weight: bold;
}

#backMenu { background: rgba(255,255,255,0.1); }
#supportBtn { background: rgba(255,70,70,0.25); }

#paymentMethod {
    width: 100%;
    padding: 10px;
}

#requisites {
    margin-top: 10px;
    padding: 10px;
    background: #222;
    border-radius: 10px;
    display: none;
    color: #bbbbbb;
}
</style>
</head>
<body>

<!-- MAIN LOADER -->
<div id="loader">Загрузка...</div>
<!-- PAYMENT LOADER -->
<div id="payLoader" style="display:none;">Обработка...</div>

<!-- MAIN CONTENT -->
<div id="content">

    <!-- ROW 1 -->
    <div class="row">
        <div class="item shiny-border" id="item1">
            <img src="https://picsum.photos/600/900?random=1" alt="">
            <select id="qty1" style="position:absolute;top:10px;left:10px;z-index:10;">
                <option value="1">1 шт</option>
                <option value="2">2 шт</option>
                <option value="3">3 шт</option>
            </select>
            <button class="buy-btn shiny-border" onclick="openPayment('Большой товар', qty1.value, 1)">Купить</button>
        </div>
    </div>

    <!-- ROW 2 -->
    <div class="row">
        <div class="item shiny-border">
            <img src="https://picsum.photos/600/900?random=2">
            <button class="buy-btn shiny-border" onclick="openPayment('Товар A', 1, 2)">Купить</button>
        </div>

        <div class="item shiny-border">
            <img src="https://picsum.photos/600/900?random=3">
            <button class="buy-btn shiny-border" onclick="openPayment('Товар B', 1, 3)">Купить</button>
        </div>

        <div class="item shiny-border">
            <img src="https://picsum.photos/600/900?random=4">
            <button class="buy-btn shiny-border" onclick="openPayment('Товар C', 1, 4)">Купить</button>
        </div>
    </div>

</div>

<!-- PAYMENT SCREEN -->
<div id="paymentScreen">
    <div id="paymentBox" class="shiny-border">
        <div class="pay-item shiny-border">
            <img id="payImg" src="">
        </div>

        <h3 id="payTitle"></h3>
        <p id="payDetails"></p>

        <select id="paymentMethod" onchange="showRequisites()">
            <option value="">Выберите способ оплаты</option>
            <option value="sber">Сбербанк</option>
            <option value="tinkoff">Тинькофф</option>
            <option value="usdt">USDT (TRC20)</option>
            <option value="qiwi">Qiwi</option>
            <option value="yoomoney">ЮMoney</option>
        </select>

        <div id="requisites"></div>

        <button id="backMenu" class="shiny-border" onclick="closePayment()">Вернуться в меню</button>
        <button id="supportBtn" class="shiny-border">Служба поддержки</button>
    </div>
</div>

<script>
// MAIN LOADER
document.addEventListener("DOMContentLoaded", () => {
    const delay = 1000 + Math.random() * 2000;

    setTimeout(() => {
        loader.style.display = "none";
        content.style.display = "block";
    }, delay);
});

// OPEN PAYMENT
function openPayment(name, qty, imgNumber) {
    payLoader.style.display = "flex";

    setTimeout(() => {
        payLoader.style.display = "none";
        paymentScreen.style.display = "flex";

        payTitle.innerText = name;
        payDetails.innerText = "Количество: " + qty;
        payImg.src = "https://picsum.photos/600/900?random=" + imgNumber;

        paymentMethod.value = "";
        requisites.style.display = "none";
    }, 700 + Math.random() * 1000);
}

// PAYMENT REQUISITES
function showRequisites() {
    const method = paymentMethod.value;

    if (!method) {
        requisites.style.display = "none";
        return;
    }

    const data = {
        sber: "Сбербанк: 5536 9141 2280 1333\nПолучатель: Иванов И.И.",
        tinkoff: "Тинькофф: 4377 7200 1455 2299\nПолучатель: Петров П.П.",
        usdt: "USDT TRC20: TXabcdef1234567890",
        qiwi: "Qiwi кошелёк: +79991234567",
        yoomoney: "ЮMoney: 4100 1234 5678 900"
    };

    requisites.innerText = data[method];
    requisites.style.display = "block";
}

// CLOSE PAYMENT
function closePayment() {
    paymentScreen.style.display = "none";
}
</script>

</body>
</html>
